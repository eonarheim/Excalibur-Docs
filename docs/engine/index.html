<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Engine</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Arizonia' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/gridism.css" />
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="/css/syntax.css" />
  <link rel="icon" type="image/x-icon" href="/favicon.png" />
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46390208-1', 'excaliburjs.com');
  ga('send', 'pageview');

  </script>
</head>

<body class="wrap">
  <header>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <h1>
        <a href="/">
          <span>Excalibur</span>
          <img src="/img/excalibur-title.png" width="307" height="115" alt="">
        </a>
      </h1>
    </div>
    <nav class="main-nav unit two-thirds">
      <ul>
  <li class="">
    <a href="/">Overview</a>
  </li>
  <li class="selected">
    <a href="/docs/home/">Doc<span class="show-on-mobiles">s</span><span class="hide-on-mobiles">umentation</span></a>
  </li>
  <li class="">
    <a href="/gallery/home/">Gallery</a>
  </li>
  <li class="">
    <a href="https://github.com/eonarheim/excalibur" target="_blank"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>
    </nav>
  </div>
</header>

    <section class="docs">
    <div class="grid">

      
      <div class="unit four-fifths">
        <article>
          <h1>Engine</h1>
          <p>The &#39;Engine&#39; object is the main driver for a game. It is responsible for 
starting/stopping the game, maintaining state, transmitting events, 
loading resources, and managing the scene.</p>

<h2>Usage</h2>

<hr>

<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">game</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ex</span><span class="p">.</span><span class="nx">Engine</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="s1">&#39;my-game&#39;</span><span class="p">);</span>
<span class="c1">// TODO: Build game</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
</code></pre></div>

<h2>Constructor</h2>

<pre>new(width?: number, height?: number, canvasElementId?: string,  displayMode?: ex.DisplayMode)</pre>

<hr>

<p>The Engine constructor takes 4 optional parameters: a game width, game height, 
a target canvas element to draw to, and a display mode. If the &#39;canvasElementId&#39;
is not specified, a new canvas will be appended to the body of the page and
the game will be drawn to that canvas. If the &#39;displayMode&#39; is not specified, the
default displayMode will be FullScreen.</p>

<h2>Properties</h2>

<pre>engine.canvas</pre>

<hr>

<p>Reference to the current HTML canvas element the game is drawing to.</p>

<pre>engine.ctx</pre>

<hr>

<p>Reference to the current HTML canvas rendering context. This may be used to 
implement custom drawing methods for extended actors.</p>

<pre>engine.backgroundColor</pre>

<hr>

<p>Gets or sets the background color of the game.</p>

<pre>engine.displayMode</pre>

<hr>

<p>Gets the current display mode of the game. By default the displayMode 
defaults to FullScreen.</p>

<p>The Engine has 3 possible display modes:</p>

<div class="highlight"><pre><code class="javascript"><span class="kr">enum</span> <span class="nx">DisplayMode</span> <span class="p">{</span>
   <span class="nx">FullScreen</span><span class="p">,</span>
   <span class="nx">Container</span><span class="p">,</span>
   <span class="nx">Fixed</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>FullScreen</strong> will force the engine to take up the entire screen.</p>

<p><strong>Container</strong> will force the engine&#39;s canvas to fill up the size of its parent container.</p>

<p><strong>Fixed</strong> will force the engine&#39;s canvas to take up a fixed height and width.</p>

<pre>engine.isDebug</pre>

<hr>

<p>Gets or sets the current debug mode. If &#39;isDebug&#39; is set to true, debug information
will be drawn to the screen.</p>

<pre>engine.width</pre>

<hr>

<p>The current width of the game&#39;s drawing surface in pixels.</p>

<pre>engine.height</pre>

<hr>

<p>The current height of the game&#39;s drawing surface in pixels.</p>

<pre>engine.keys</pre>

<hr>

<p>The list of currently pressed keys is available to you here. You <strong>should</strong> 
instead use the &#39;engine.isKeyPressed&#39; method to detect specific key presses.</p>

<pre>engine.keysUp</pre>

<hr>

<p>The list of keys that received the &#39;keyup&#39; event this frame. You <strong>should</strong>
instead use the &#39;engine.isKeyUp&#39; method to detect specific key ups.</p>

<pre>engine.keysDown</pre>

<hr>

<p>The list of keys that received the &#39;keydown&#39; event this frame. You <strong>should</strong>
instead use the &#39;engine.isKeyDown&#39; method to detect specific key downs.</p>

<pre>engine.camera</pre>

<hr>

<p>With the &#39;camera&#39; property, you can either get or set the current camera for the
game. By default there is no camera set and the property is &#39;null&#39;. If you wish
to create a camera see the Camera documentation.</p>

<pre>engine.currentScene</pre>

<hr>

<p>Accesses the current scene that is being drawn in the scene graph. To learn more
about scenes, visit the Scene documentation.</p>

<pre>engine.rootScene</pre>

<hr>

<p>Access the root scene in the scene graph. To learn more about scenes, visit the
Scene documentation.</p>

<h2>Methods</h2>

<pre>engine.addEventListener(eventName: string,  
   handler: (event?: ActorEvent) => void)</pre>

<hr>

<p>Add an event listener to the engine. You can listen for a variety of events 
off of the engine; see the events section below for a complete list.</p>

<pre>engine.setAntialiasing(isSmooth: boolean)</pre>

<hr>

<p>If supported by the browser, this will set the antialiasing flag on the canvas. 
Set this to false if you want a &#39;jagged&#39; pixel art look to your image resources.</p>

<pre>engine.getAntialiasing(): boolean</pre>

<hr>

<p>If supported by the browser, this will return the current state of the 
antialiasing flag.</p>

<pre>engine.playAnimation(animation: ex.Animation, 
   x : number, y : number)</pre>

<hr>

<p>Plays a sprite animation on the screen at the specified x and y (in game 
coordinates, not screen pixels). These animations play independent of actors,
and will be cleaned up internally as soon as they are complete. <em>Note</em> animations
that loop will never be cleaned up.</p>

<pre>engine.addChild(actor: ex.Actor)</pre>

<hr>

<p>Adds an actor to the current scene of the game. This is synonymous to calling
engine.currentScene.addChild(actor: ex.Actor). </p>

<p>Actors can only be drawn if they are a member of a scene, and only the 
&#39;currentScene&#39; may be drawn or updated.</p>

<pre>engine.removeChild(actor: ex.Actor)</pre>

<hr>

<p>Removes an actor from the currentScene of the game. This is synonymous to
calling engine.currentScene.removeChild(actor: ex.Actor).</p>

<p>Actors that are removed from a scene will no longer be drawn or updated.</p>

<pre>engine.pushScene(scene: ex.Scene)</pre>

<hr>

<p>Pushes a new scene onto Excalibur&#39;s internal scene stack, and begins updating 
and drawing the top scene. This is useful if you need to change levels or screens.</p>

<pre>engine.popScene()</pre>

<hr>

<p>This pops the current scene off of Excalibur&#39;s internal scene stack, returning
the game to the previous level or screen. The root scene can never be popped;
there will always be at least one scene in the game.</p>

<pre>engine.isKeyUp(key: ex.Keys) : boolean</pre>

<hr>

<p>Returns true if the &#39;key&#39; parameter has received the &#39;keyup&#39; event during this frame.</p>

<pre>engine.isKeyDown(key: ex.Keys) : boolean</pre>

<hr>

<p>Returns true if the &#39;key&#39; parameter has received the &#39;keydown&#39; event during this frame.</p>

<pre>engine.isKeyPressed(key: ex.Keys) : boolean</pre>

<hr>

<p>Returns true if the &#39;key&#39; parameter is currently being pressed.</p>

<pre>engine.start(loader?: ex.ILoadable): ex.Promise<any></pre>

<hr>

<p>This must be called to start the game. This method initiates the internal 
mainloop. You may optionally pass a loader to the engine and it will return
a promise that resolves when it is done loading.</p>

<pre>engine.stop()</pre>

<hr>

<p>This pauses the game by stopping the engine&#39;s internal mainloop. This is 
useful when building pause game functionality. </p>

<p><em>Note</em> game events will no longer be sent, because the game is now paused.
The will be added to the queue and fired when the game is started again.</p>

<pre>engine.load(loader: ex.ILoadable) : ex.Promise<any></pre>

<hr>

<p>Call load to prepare and image or sound assets in your game. This <em>must</em> be 
called before attempting to use images or sounds <em>anywhere</em>. Returns a <a href="/docs/promises">promise</a>
that will be resolved when loading is complete.</p>

<pre>engine.setLoadingDrawFunction(fcn: (ctx: CanvasRenderingContext2D,
 loaded: number, 
 total: number) => void)</pre>

<hr>

<p>Set a custom load screen to be drawn instead of the default asset loading
screen.</p>

<h2>Events</h2>

<p>Valid events to listen for off of Engine.</p>

<pre>'keydown'</pre>

<pre>'keyup'</pre>

<pre>'keypressed'</pre>

<pre>'update'</pre>

<pre>'click'</pre>

<pre>'mousedown'</pre>

<pre>'mouseup'</pre>

<p>See the events documentation for specifics about each of these events.</p>

          <div class="section-nav">
  <div class="left align-right">
    
      <span class="prev disabled">Back</span>
    
  </div>
  <div class="right align-left">
    
      <a href="/docs/actor/" class="next">
        Next
      </a>
    
  </div>
  <div class="clear"></div>
</div>
        </article>
      </div>
      
      

<div class="unit one-fifth hide-on-mobiles">
  <aside>
    <h4>Getting Started</h4>
    


<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/home/">Welcome</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/install/">Installation</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/quickstart/">Quick Start</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
</ul>
    
    


<h4>Core</h4>
<ul>

 
   <li><a href="/classes/Actor.html">Actor</a></li>
 
   <li><a href="/classes/Scene.html">Scene</a></li>
 
   <li><a href="/classes/Engine.html">Engine</a></li>
 
   <li><a href="/classes/Label.html">Label</a></li>
 
   <li><a href="/classes/Class.html">Class</a></li>
 
   <li><a href="/classes/Color.html">Color</a></li>
 
   <li><a href="/classes/Trigger.html">Trigger</a></li>
 
   <li><a href="/classes/DisplayMode.html">DisplayMode</a></li>
 
   <li><a href="/classes/Side.html">Side</a></li>

</ul>

<h4>Media</h4>
<ul>

 
   <li><a href="/classes/Sound.html">Sound</a></li>
 
   <li><a href="/classes/Texture.html">Texture</a></li>
 
   <li><a href="/classes/Polygon.html">Polygon</a></li>
 
   <li><a href="/classes/Animation.html">Animation</a></li>
 
   <li><a href="/classes/Sprite.html">Sprite</a></li>
 
   <li><a href="/classes/SpriteSheet.html">SpriteSheet</a></li>
 
   <li><a href="/classes/SpriteFont.html">SpriteFont</a></li>

</ul>

<h4>Cameras</h4>
<ul>

 
   <li><a href="/classes/TopCamera.html">TopCamera</a></li>
 
   <li><a href="/classes/SideCamera.html">SideCamera</a></li>

</ul>

<h4>Collision</h4>
<ul>

 
   <li><a href="/classes/BoundingBox.html">BoundingBox</a></li>
 
   <li><a href="/classes/CollisionMap.html">CollisionMap</a></li>
 
   <li><a href="/classes/Cell.html">Cell</a></li>

</ul>

<h4>Effects</h4>
<ul>

 
   <li><a href="/classes/ParticleEmitter.html">ParticleEmitter</a></li>
 
   <li><a href="/classes/EmitterType.html">EmitterType</a></li>
 
   <li><a href="/classes/Effects.Grayscale.html">Effects.Grayscale</a></li>
 
   <li><a href="/classes/Effects.Invert.html">Effects.Invert</a></li>
 
   <li><a href="/classes/Effects.Opacity.html">Effects.Opacity</a></li>
 
   <li><a href="/classes/Effects.Colorize.html">Effects.Colorize</a></li>

</ul>

<h4>Utility</h4>
<ul>

 
   <li><a href="/classes/Loader.html">Loader</a></li>
 
   <li><a href="/classes/Promise.html">Promise</a></li>
 
   <li><a href="/classes/PromiseState.html">PromiseState</a></li>
 
   <li><a href="/classes/Timer.html">Timer</a></li>
 
   <li><a href="/classes/Collection.html">Collection</a></li>
 
   <li><a href="/classes/EventDispatcher.html">EventDispatcher</a></li>
 
   <li><a href="/classes/EventType.html">EventType</a></li>
 
   <li><a href="/classes/Logger.html">Logger</a></li>
 
   <li><a href="/classes/LogLevel.html">LogLevel</a></li>
 
   <li><a href="/classes/ConsoleAppender.html">ConsoleAppender</a></li>
 
   <li><a href="/classes/ScreenAppender.html">ScreenAppender</a></li>

</ul>

<h4>Math</h4>
<ul>

 
   <li><a href="/classes/Point.html">Point</a></li>
 
   <li><a href="/classes/Vector.html">Vector</a></li>

</ul>

<h4>Interfaces</h4>
<ul>

 
   <li><a href="/classes/IAppender.html">IAppender</a></li>
 
   <li><a href="/classes/IDrawable.html">IDrawable</a></li>
 
   <li><a href="/classes/ILoadable.html">ILoadable</a></li>
 
   <li><a href="/classes/InputKey.html">InputKey</a></li>
 
   <li><a href="/classes/ISpriteEffect.html">ISpriteEffect</a></li>
 
   <li><a href="/classes/ICollidable.html">ICollidable</a></li>

</ul>

<h4>Events</h4>
<ul>

 
   <li><a href="/classes/GameEvent.html">GameEvent</a></li>
 
   <li><a href="/classes/UpdateEvent.html">UpdateEvent</a></li>
 
   <li><a href="/classes/ActivateEvent.html">ActivateEvent</a></li>
 
   <li><a href="/classes/DeactivateEvent.html">DeactivateEvent</a></li>
 
   <li><a href="/classes/CollisionEvent.html">CollisionEvent</a></li>
 
   <li><a href="/classes/InitializeEvent.html">InitializeEvent</a></li>
 
   <li><a href="/classes/ExitViewPortEvent.html">ExitViewPortEvent</a></li>
 
   <li><a href="/classes/EnterViewPortEvent.html">EnterViewPortEvent</a></li>
 
   <li><a href="/classes/FocusEvent.html">FocusEvent</a></li>
 
   <li><a href="/classes/BlurEvent.html">BlurEvent</a></li>
 
   <li><a href="/classes/KeyEvent.html">KeyEvent</a></li>
 
   <li><a href="/classes/KeyUp.html">KeyUp</a></li>
 
   <li><a href="/classes/KeyDown.html">KeyDown</a></li>
 
   <li><a href="/classes/KeyPress.html">KeyPress</a></li>
 
   <li><a href="/classes/MouseUp.html">MouseUp</a></li>
 
   <li><a href="/classes/MouseDown.html">MouseDown</a></li>
 
   <li><a href="/classes/MouseMove.html">MouseMove</a></li>
 
   <li><a href="/classes/TouchEvent.html">TouchEvent</a></li>
 
   <li><a href="/classes/TouchStart.html">TouchStart</a></li>
 
   <li><a href="/classes/TouchEnd.html">TouchEnd</a></li>
 
   <li><a href="/classes/TouchMove.html">TouchMove</a></li>
 
   <li><a href="/classes/TouchCancel.html">TouchCancel</a></li>

</ul>

  </aside>
</div>

      <div class="clear"></div>

    </div>
  </section>

  <footer>
  <div class="grid">
    <div class="unit whole">
      <p>
        Excalibur<br />
        A simple game engine for building 2D games on the web.<br />
      </p>
      <p>
        By <a href="http://erikonarheim.com">Erik Onarheim</a>, <a href="https://github.com/jedeen/">Josh Edeen</a>, and <a href="http://kamranicus.com/">Kamran Ayub</a>.
      </p>
    </div>
    <div class="unit whole">
      <p>
        This site powered by 
        <a href="http://jekyllrb.com/">
          <img class="jekyll" src="/img/logo-2x.png"/>
        </a>
        and
        <a href="http://yui.github.io/yuidoc/">
          <img class="yui" src="/img/logo.png"/>
        </a>
      </p>
    </div>
  </div>
</footer>


</body>
</html>
          